import{j as e,r as o,K as j,S as f,a as c}from"./app-DKM7dt8d.js";import{u as N,A as b,a as d,b as v}from"./avatar-DRnMHcoe.js";import{B as l}from"./button-Ch5T_YaV.js";import{D as m,a as g,b as h,c as k}from"./dialog-CcRMeUsX.js";import{h as D}from"./helpers-CmNvA0sT.js";import{A as t}from"./arrow-up-down-BJLP-FvM.js";import{T as S,a as y}from"./triangle-alert-smepxhca.js";import{f as A,i as w}from"./id-CUEIbMhn.js";import"./index-ZFSzPzMq.js";import"./index-k0HzQP1F.js";import"./index-blviR4P5.js";import"./utils-D17iiBiz.js";import"./index-Vrro_ThI.js";import"./index-CBy6iI--.js";import"./Combination-ao4a7iry.js";import"./tslib.es6-BUas5LQb.js";import"./x-DA2yMRmC.js";import"./createLucideIcon-BecT5Nup.js";const q=[{accessorKey:"name",id:"nama",header:({column:a})=>e.jsxs(l,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Nama",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const s=N();return e.jsxs("div",{className:"flex items-center",children:[e.jsxs(b,{className:"size-8 overflow-hidden rounded-full",children:[e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(d,{src:"/storage/"+a.original.avatar,alt:a.original.name})}),e.jsx(h,{children:e.jsx(d,{src:"/storage/"+a.original.avatar,alt:a.original.name})})]}),e.jsx(v,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:s(a.original.name)})]}),e.jsx("span",{className:"ml-3",children:a.original.name})]})}},{accessorKey:"username",id:"Nama Pengguna",header:({column:a})=>e.jsxs(l,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Nama Pengguna",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>e.jsx("span",{className:"ml-3",children:a.original.username})},{accessorKey:"email",id:"email",header:({column:a})=>e.jsxs(l,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Email",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>e.jsx("span",{className:"ml-3",children:a.original.email})},{accessorKey:"role_names",id:"role",header:"Role",cell:({row:a})=>{const s=a.original.role_names[0],r=s.startsWith("kadus_")?s.replace("kadus_","Kepala Dusun "):s==="kades"?"Kepala Desa":s;return e.jsx("span",{className:"ml-3",children:r})}},{accessorKey:"created_at",id:"Tanggal bergabung",header:({column:a})=>e.jsxs(l,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Tanggal Bergabung",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const s=a.original.created_at,r=A(s,"EEEE, d MMMM y",{locale:w});return e.jsx("span",{className:"pl-4 text-center font-medium",children:r})}},{id:"aksi",header:"Aksi",cell:({row:a})=>{const[s,r]=o.useState(!1),[x,i]=o.useState(!1),u=n=>{r(!0),f.delete(route("delete.user",{user:n}),{onSuccess:()=>{c.success("Baris berhasil dihapus!"),r(!1),i(!1)},onError:()=>{c.error("Terjadi kesalahan saat menghapus baris."),i(!1),r(!1)}})},{auth:p}=j().props;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex items-center",children:D(p.user,["admin"])&&e.jsxs(m,{open:x,onOpenChange:n=>i(n),children:[e.jsx(g,{asChild:!0,children:e.jsx(l,{variant:"ghost",size:"sm",children:e.jsx(S,{className:"h-4 w-4 text-red-500"})})}),e.jsx(h,{className:"sm:max-w-[425px]",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200",children:e.jsx(y,{className:"h-8 w-8 text-red-500"})}),e.jsx("h1",{className:"mt-4 text-lg font-bold",children:"Hapus User"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Apakah Anda yakin ingin menghapus ini?"}),e.jsxs("div",{className:"mt-4 grid w-full grid-cols-2 gap-x-2",children:[e.jsx(k,{asChild:!0,children:e.jsx(l,{variant:"outline",children:"Batal"})}),e.jsx(l,{variant:"default",className:"bg-red-500 transition-all duration-300 hover:bg-red-600 active:scale-90",disabled:s,onClick:()=>u(a.original),"aria-label":"Delete row",children:"Ya, saya yakin!"})]})]})})]})})})}}];export{q as columns};
