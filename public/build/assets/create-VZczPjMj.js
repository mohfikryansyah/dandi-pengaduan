import{r as f,m as j,j as r,L as C,V as n}from"./app-1vksEiOn.js";import{B as l}from"./button-Dojzd-UW.js";import{C as b,b as S,c as _,d as v,a as P,e as g}from"./card-B3yooZr5.js";import{C as N,a as k,b as w,c as y,d as D}from"./command-Sy3WXH37.js";import{L}from"./label-qmwv9tWL.js";import{P as B,a as E,b as F}from"./popover-CiSlK3VA.js";import{u as T}from"./use-boolean-bdNGzfcW.js";import{A}from"./app-layout-DN1uTSLH.js";import I from"./form-field-renderer-Dn5CjNvh.js";import{C as O}from"./chevron-down-c3TOja2F.js";import"./index-BVzTNj1Y.js";import"./utils-D17iiBiz.js";import"./index-BbqicphP.js";import"./index-pTesKFhR.js";import"./Combination-D6pHeosP.js";import"./tslib.es6-BUas5LQb.js";import"./index-DdvvDZMX.js";import"./index-DypZM36f.js";import"./index-CHJCEIxg.js";import"./index-CQvspDma.js";import"./floating-ui.react-dom-CukQGH1T.js";import"./createLucideIcon-Dg0TqZCs.js";import"./use-mobile-DGINfj6O.js";import"./x-BBc_8yfQ.js";import"./index-Etx5e815.js";import"./helpers-xQVhyuEX.js";import"./check-m_uJjlc8.js";import"./avatar-CCp3Mqh0.js";import"./app-logo-icon-4UjUEgNd.js";import"./chevron-right-B5P0Pynj.js";import"./input-error-DrZJb50h.js";import"./calendar-CJYLc9ZX.js";import"./id-CUEIbMhn.js";import"./chevron-left-BFx_exNM.js";import"./input-D47F2WeB.js";import"./calendar-BcVj6b7y.js";const R=[{title:"Dashboard",href:"/dashboard"}];function _r({templateSurats:s}){var m;const[t,p]=f.useState(null),e=T(),{data:o,setData:i,post:d,errors:u,reset:c}=j({nomor_surat:"",template_surat_id:null,data_form:{}}),h=a=>{a.preventDefault(),d(route("permohonan-surat.store"),{onSuccess:()=>{n.success("Permohonan surat berhasil dibuat."),c()},onError:()=>{n.error("Gagal membuat permohonan surat.")},preserveState:!0,preserveScroll:!0})};return r.jsxs(A,{breadcrumbs:R,children:[r.jsx(C,{title:"Buat Permohonan Surat"}),r.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:r.jsx("form",{onSubmit:h,children:r.jsxs(b,{className:"w-full max-w-3xl",children:[r.jsxs(S,{children:[r.jsx(_,{children:"Buat Permohonan Surat"}),r.jsx(v,{children:"Silakan isi form untuk membuat permohonan surat."})]}),r.jsxs(P,{className:"space-y-4",children:[r.jsxs(B,{open:e.state,onOpenChange:e.setState,children:[r.jsx(L,{children:"Surat"}),r.jsx(E,{asChild:!0,children:r.jsxs(l,{variant:"outline",className:"flex w-full justify-between",children:[t?(m=s.find(a=>a.id===t.id))==null?void 0:m.nama_berkas:"Pilih Surat",r.jsx(O,{className:"size-3"})]})}),r.jsx(F,{className:"popover-content-width-same-as-its-trigger p-0",align:"start",children:r.jsxs(N,{children:[r.jsx(k,{placeholder:"Cari judul surat"}),r.jsx(w,{children:"Tidak ada hasil ditemukan."}),r.jsx(y,{children:s.map(a=>r.jsx(D,{onSelect:()=>{p(a),i("template_surat_id",a.id),e.setFalse()},children:a.nama_berkas},a.id))})]})})]}),t&&r.jsx(I,{data:o.data_form,fields:t.form_fields,setData:(a,x)=>i("data_form",{...o.data_form,[a]:x}),errors:u}),r.jsx(g,{className:"p-0 flex justify-end",children:r.jsx(l,{type:"submit",children:"Submit"})})]})]})})})]})}export{_r as default};
