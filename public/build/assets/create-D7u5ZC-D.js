import{r as f,m as j,j as r,L as C,V as n}from"./app-DKM7dt8d.js";import{B as l}from"./button-Ch5T_YaV.js";import{C as b,b as S,c as _,d as v,a as P,e as g}from"./card-BcxlMsuI.js";import{C as N,a as k,b as w,c as y,d as D}from"./command-CCuSnC8U.js";import{L}from"./label-C6TNN0Fp.js";import{P as B,a as E,b as F}from"./popover-Bp6cqbEo.js";import{u as T}from"./use-boolean-DwN7zOQ_.js";import{A}from"./app-layout-D1n9UuIy.js";import I from"./form-field-renderer-D0l6epiY.js";import{C as O}from"./chevron-down-DDfTyICo.js";import"./index-Vrro_ThI.js";import"./utils-D17iiBiz.js";import"./index-CBy6iI--.js";import"./index-blviR4P5.js";import"./Combination-ao4a7iry.js";import"./tslib.es6-BUas5LQb.js";import"./index-k0HzQP1F.js";import"./index-xdR8EGyJ.js";import"./index-ZFSzPzMq.js";import"./index-wGUD2AQ0.js";import"./floating-ui.react-dom-BMUpqp2O.js";import"./createLucideIcon-BecT5Nup.js";import"./use-mobile-DQiCraAI.js";import"./x-DA2yMRmC.js";import"./index-CRVKt2cw.js";import"./helpers-CmNvA0sT.js";import"./check-C2k6Q05I.js";import"./avatar-DRnMHcoe.js";import"./app-logo-icon-QQfq_JEU.js";import"./chevron-right-B0WcJHW1.js";import"./input-error-CGa-v5px.js";import"./calendar-h56rkcBW.js";import"./id-CUEIbMhn.js";import"./chevron-left-CX9-B02W.js";import"./input-Bzxg_iW3.js";import"./calendar-BRwcKC1z.js";const R=[{title:"Dashboard",href:"/dashboard"}];function _r({templateSurats:s}){var m;const[t,p]=f.useState(null),e=T(),{data:o,setData:i,post:d,errors:u,reset:c}=j({nomor_surat:"",template_surat_id:null,data_form:{}}),h=a=>{a.preventDefault(),d(route("permohonan-surat.store"),{onSuccess:()=>{n.success("Permohonan surat berhasil dibuat."),c()},onError:()=>{n.error("Gagal membuat permohonan surat.")},preserveState:!0,preserveScroll:!0})};return r.jsxs(A,{breadcrumbs:R,children:[r.jsx(C,{title:"Buat Permohonan Surat"}),r.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:r.jsx("form",{onSubmit:h,children:r.jsxs(b,{className:"w-full max-w-3xl",children:[r.jsxs(S,{children:[r.jsx(_,{children:"Buat Permohonan Surat"}),r.jsx(v,{children:"Silakan isi form untuk membuat permohonan surat."})]}),r.jsxs(P,{className:"space-y-4",children:[r.jsxs(B,{open:e.state,onOpenChange:e.setState,children:[r.jsx(L,{children:"Surat"}),r.jsx(E,{asChild:!0,children:r.jsxs(l,{variant:"outline",className:"flex w-full justify-between",children:[t?(m=s.find(a=>a.id===t.id))==null?void 0:m.nama_berkas:"Pilih Surat",r.jsx(O,{className:"size-3"})]})}),r.jsx(F,{className:"popover-content-width-same-as-its-trigger p-0",align:"start",children:r.jsxs(N,{children:[r.jsx(k,{placeholder:"Cari judul surat"}),r.jsx(w,{children:"Tidak ada hasil ditemukan."}),r.jsx(y,{children:s.map(a=>r.jsx(D,{onSelect:()=>{p(a),i("template_surat_id",a.id),e.setFalse()},children:a.nama_berkas},a.id))})]})})]}),t&&r.jsx(I,{data:o.data_form,fields:t.form_fields,setData:(a,x)=>i("data_form",{...o.data_form,[a]:x}),errors:u}),r.jsx(g,{className:"p-0 flex justify-end",children:r.jsx(l,{type:"submit",children:"Submit"})})]})]})})})]})}export{_r as default};
