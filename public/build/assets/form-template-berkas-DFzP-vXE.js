import{m as C,j as e,V as N}from"./app-DKM7dt8d.js";import{I as k}from"./input-error-CGa-v5px.js";import{B as o}from"./button-Ch5T_YaV.js";import{c as y}from"./card-BcxlMsuI.js";import{C as _,a as S,b as T,c as F,d as w}from"./command-CCuSnC8U.js";import{I as d}from"./input-Bzxg_iW3.js";import{L as i}from"./label-C6TNN0Fp.js";import{P as I,a as P,b as $}from"./popover-Bp6cqbEo.js";import{S as D,a as V,b as L,c as M,e as c}from"./select-tOSno9c3.js";import{b as B}from"./helpers-CmNvA0sT.js";import{u as J}from"./use-boolean-DwN7zOQ_.js";import{C as z}from"./chevron-down-DDfTyICo.js";import{c as h}from"./createLucideIcon-BecT5Nup.js";import"./utils-D17iiBiz.js";import"./index-Vrro_ThI.js";import"./index-CBy6iI--.js";import"./index-blviR4P5.js";import"./Combination-ao4a7iry.js";import"./tslib.es6-BUas5LQb.js";import"./index-k0HzQP1F.js";import"./index-xdR8EGyJ.js";import"./index-ZFSzPzMq.js";import"./index-wGUD2AQ0.js";import"./floating-ui.react-dom-BMUpqp2O.js";import"./index-Di94R_QD.js";import"./check-C2k6Q05I.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],O=h("Plus",E);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],R=h("Trash",H);function je({templateBerkas:u}){const{data:t,setData:l,post:x,processing:j,errors:f}=C({nama_berkas:"",path:null,form_fields:[]}),g=()=>{l("form_fields",[...t.form_fields,{name:"",label:"",type:"text"}])},b=s=>{const a=[...t.form_fields];a.splice(s,1),l("form_fields",a)},n=(s,a,r)=>{const p=[...t.form_fields];p[s][a]=r,l("form_fields",p)},v=s=>{s.preventDefault(),x(route("template-berkas.store"))},m=J();return e.jsxs("form",{onSubmit:v,className:"mx-auto grid max-w-3xl gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Judul Surat"}),e.jsxs(I,{open:m.state,onOpenChange:m.setState,children:[e.jsx(P,{asChild:!0,children:e.jsxs(o,{variant:"outline",className:"flex justify-between",children:[t.nama_berkas?t.nama_berkas:"Pilih Judul Surat",e.jsx(z,{className:"size-3"})]})}),e.jsx($,{className:"popover-content-width-same-as-its-trigger p-0",align:"start",children:e.jsxs(_,{children:[e.jsx(S,{placeholder:"Cari judul surat"}),e.jsx(T,{children:"Tidak ada hasil ditemukan."}),e.jsx(F,{children:B.filter(s=>!u.some(a=>a.nama_berkas===s.label)).map(s=>e.jsx(w,{onSelect:()=>{l("nama_berkas",s.label),N.success(`"${s.label}" dipilih.`),m.setFalse()},children:s.label},s.value))})]})})]}),e.jsx(k,{message:f.nama_berkas})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{children:"Upload File Template (DOCX)"}),e.jsx(d,{type:"file",accept:".docx",onChange:s=>{var a;return l("path",((a=s.target.files)==null?void 0:a[0])||null)}})]}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(y,{children:"Field Dinamis"}),e.jsxs(o,{type:"button",onClick:g,variant:"outline",size:"sm",children:[e.jsx(O,{className:"mr-1 h-4 w-4"})," Tambah Field"]})]}),e.jsx("div",{className:"grid gap-4",children:t.form_fields.map((s,a)=>e.jsxs("div",{className:"relative grid gap-4 rounded-lg border p-3",children:[e.jsx(o,{type:"button",variant:"ghost",className:"absolute top-0 right-0",onClick:()=>b(a),children:e.jsx(R,{className:"size-4 text-red-500"})}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:`name-${a}`,children:"Name (key)"}),e.jsx(d,{id:`name-${a}`,value:s.name,onChange:r=>n(a,"name",r.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:`label-${a}`,children:"Label (tampil ke user)"}),e.jsx(d,{id:`label-${a}`,value:s.label,onChange:r=>n(a,"label",r.target.value)})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(i,{htmlFor:`type-${a}`,children:"Tipe"}),e.jsxs(D,{value:s.type,onValueChange:r=>n(a,"type",r),children:[e.jsx(V,{className:"w-full",children:e.jsx(L,{placeholder:"Pilih Tipe Input"})}),e.jsxs(M,{children:[e.jsx(c,{value:"text",children:"Text"}),e.jsx(c,{value:"date",children:"Date"}),e.jsx(c,{value:"number",children:"Number"})]})]})]})]},a))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(o,{type:"submit",disabled:j,children:"Simpan Template"})})]})}export{je as default};
