import{m as C,j as e,V as d}from"./app-DKM7dt8d.js";import{I as i}from"./input-error-CGa-v5px.js";import{B as D}from"./button-Ch5T_YaV.js";import{C as N,b as T,c as V,a as L}from"./card-BcxlMsuI.js";import{L as n}from"./label-C6TNN0Fp.js";import{S as u,a as m,b as c,c as p,d as h,e as a}from"./select-tOSno9c3.js";import{T as _}from"./textarea-D-5bDQ0r.js";import{r as w}from"./utils-D17iiBiz.js";import"./index-Vrro_ThI.js";import"./index-k0HzQP1F.js";import"./index-blviR4P5.js";import"./index-wGUD2AQ0.js";import"./index-ZFSzPzMq.js";import"./index-xdR8EGyJ.js";import"./floating-ui.react-dom-BMUpqp2O.js";import"./index-Di94R_QD.js";import"./Combination-ao4a7iry.js";import"./tslib.es6-BUas5LQb.js";import"./chevron-down-DDfTyICo.js";import"./createLucideIcon-BecT5Nup.js";import"./check-C2k6Q05I.js";function Z({pengaduan:l,kadus_users:x}){const{data:o,setData:r,put:j,processing:k,errors:t,reset:g,isDirty:f}=C({status:l.latest_status.status,tindakan:"",diteruskan_ke:""}),S=s=>{s.preventDefault(),j(route("pengaduan.update",{pengaduan:l}),{preserveState:!1,onSuccess:()=>{d.success("Berhasil memperbarui status"),g()},onError:()=>d.error("Gagal memperbarui status")})};return e.jsxs(N,{className:"shadow-none",children:[e.jsx(T,{children:e.jsx(V,{children:"Perbarui Status"})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{children:"Status"}),e.jsxs(u,{onValueChange:s=>r("status",s),defaultValue:o.status,children:[e.jsx(m,{className:"w-full",children:e.jsx(c,{placeholder:"Pilih status baru"})}),e.jsx(p,{children:e.jsxs(h,{children:[e.jsx(a,{value:"Menunggu verifikasi",children:"Menunggu verifikasi"}),e.jsx(a,{value:"Diteruskan ke Kepala Dusun",children:"Diteruskan ke Kepala Dusun"}),e.jsx(a,{value:"Ditolak",children:"Ditolak"})]})}),e.jsx(i,{message:t.status})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{children:"Teruskan ke"}),e.jsxs(u,{onValueChange:s=>r("diteruskan_ke",s),children:[e.jsx(m,{className:"w-full",children:e.jsx(c,{placeholder:"Pilih kepala dusun"})}),e.jsx(p,{children:e.jsx(h,{children:x.map(s=>{const v=s.roles[0],b=w(v);return e.jsx(a,{value:String(s.id),children:b},s.id)})})}),e.jsx(i,{message:t.diteruskan_ke})]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(n,{htmlFor:"tindakan",children:"Tindakan"}),e.jsx(_,{id:"tindakan",value:o.tindakan,onChange:s=>r("tindakan",s.target.value)}),e.jsx(i,{message:t.tindakan})]}),e.jsx(D,{disabled:k||!f,children:"Simpan"})]})})]})}export{Z as default};
