import{j as a,r as m,K as S,S as l,a as g}from"./app-1vksEiOn.js";import{A as h,a as p,b as x,c as u,d as j,e as f,f as k,g as N,h as A}from"./alert-dialog-CSmbaqT6.js";import{B as w}from"./badge-DRdyMvqN.js";import{B as s}from"./button-Dojzd-UW.js";import{D as B,a as E,b as T,c as K}from"./dialog-BGWq0xld.js";import{h as y}from"./helpers-xQVhyuEX.js";import{c as _}from"./utils-D17iiBiz.js";import{statusColorMap as M}from"./show-pengaduan-cjkfJ0cO.js";import{A as n}from"./arrow-up-down-CBZElaMH.js";import{E as z}from"./eye-TEU3Bl1K.js";import{T as I,a as R}from"./triangle-alert-C0QSh5mb.js";import{C as F}from"./check-m_uJjlc8.js";import{X as Y}from"./x-BBc_8yfQ.js";import{f as H,i as O}from"./id-CUEIbMhn.js";import"./index-BbqicphP.js";import"./index-pTesKFhR.js";import"./index-BVzTNj1Y.js";import"./Combination-D6pHeosP.js";import"./tslib.es6-BUas5LQb.js";import"./avatar-CCp3Mqh0.js";import"./index-CHJCEIxg.js";import"./index-DdvvDZMX.js";import"./delete-dialog-o-5PinDr.js";import"./card-B3yooZr5.js";import"./app-layout-DN1uTSLH.js";import"./use-mobile-DGINfj6O.js";import"./index-CQvspDma.js";import"./index-DypZM36f.js";import"./floating-ui.react-dom-CukQGH1T.js";import"./index-Etx5e815.js";import"./createLucideIcon-Dg0TqZCs.js";import"./app-logo-icon-4UjUEgNd.js";import"./chevron-right-B5P0Pynj.js";import"./aksi-admin-CKgGtjM8.js";import"./input-error-DrZJb50h.js";import"./label-qmwv9tWL.js";import"./select-PiotuxnN.js";import"./index-DnelQ8Mg.js";import"./chevron-down-c3TOja2F.js";import"./textarea-fcGy8rkE.js";import"./aksi-kades-BZ2llhLq.js";import"./aksi-kadus-DjVHOOsx.js";import"./form-tanggapan-BiZ1oqWF.js";const Ta=[{accessorKey:"created_at",id:"Tanggal laporan",header:({column:e})=>a.jsxs(s,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tanggal Pengaduan",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const t=e.original.created_at,r=H(t,"EEEE, d MMMM y",{locale:O});return a.jsx("span",{className:"pl-4 text-center font-medium",children:r})}},{accessorKey:"user.name",id:"Nama",header:({column:e})=>a.jsxs(s,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Nama",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>a.jsx("span",{className:"ml-3",children:e.original.user.name})},{accessorKey:"judul",id:"judul",header:({column:e})=>a.jsxs(s,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Judul",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const t=e.original.judul;return a.jsx("div",{className:"w-[200px] truncate pl-4",children:t})}},{accessorKey:"latest_status.status",id:"status",header:({column:e})=>a.jsxs(s,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Status",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const t=M[e.original.latest_status.status]??"bg-gray-500 text-white";return a.jsx(w,{className:_("ml-3",t),children:e.original.latest_status.status})}},{id:"aksi",header:"Aksi",cell:({row:e})=>{const[t,r]=m.useState(!1),[D,o]=m.useState(!1),v=i=>{r(!0),l.delete(route("pengaduan.destroy",{id:i}),{onSuccess:()=>{g.success("Baris berhasil dihapus!"),r(!1),o(!1)},onError:()=>{g.error("Terjadi kesalahan saat menghapus baris."),o(!1),r(!1)}})},C=(i,d)=>{r(!0),l.put(route("pengaduan.validasi.kades",{pengaduan:i,status:d}))},b=(i,d)=>{r(!0),l.put(route("pengaduan.validasi.kades",{pengaduan:i,status:d}))},{auth:c}=S().props;return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(s,{variant:"ghost",size:"sm",onClick:()=>l.get(route("pengaduan.show",{pengaduan:e.original})),children:a.jsx(z,{className:"h-4 w-4 text-gray-800"})}),y(c.user,["admin"])&&a.jsxs(B,{open:D,onOpenChange:i=>o(i),children:[a.jsx(E,{asChild:!0,children:a.jsx(s,{variant:"ghost",size:"sm",children:a.jsx(I,{className:"h-4 w-4 text-red-500"})})}),a.jsx(T,{className:"sm:max-w-[425px]",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200",children:a.jsx(R,{className:"h-8 w-8 text-red-500"})}),a.jsx("h1",{className:"mt-4 text-lg font-bold",children:"Hapus Pengaduan"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Apakah Anda yakin ingin menghapus ini?"}),a.jsxs("div",{className:"mt-4 grid w-full grid-cols-2 gap-x-2",children:[a.jsx(K,{asChild:!0,children:a.jsx(s,{variant:"outline",children:"Batal"})}),a.jsx(s,{variant:"default",className:"bg-red-500 transition-all duration-300 hover:bg-red-600 active:scale-90",disabled:t,onClick:()=>v(e.original.id),"aria-label":"Delete row",children:"Ya, saya yakin!"})]})]})})]}),e.original.latest_status.status!=="Selesai"&&a.jsx(a.Fragment,{children:y(c.user,["kades"])&&a.jsxs("div",{className:"flex",children:[a.jsxs(h,{children:[a.jsx(p,{asChild:!0,children:a.jsx(s,{variant:"ghost",className:"size-8",children:a.jsx(F,{className:"text-green-500"})})}),a.jsxs(x,{children:[a.jsxs(u,{children:[a.jsx(j,{children:"Apakah Anda yakin ingin menyelesaikan pengaduan ini?"}),a.jsx(f,{children:"Aksi ini tidak dapat dibatalkan."})]}),a.jsxs(k,{children:[a.jsx(N,{children:"Batal"}),a.jsx(A,{className:"bg-sky-800",onClick:()=>b(e.original,"Selesai"),children:"Ya, saya yakin!"})]})]})]}),a.jsxs(h,{children:[a.jsx(p,{asChild:!0,children:a.jsx(s,{variant:"ghost",className:"size-8",children:a.jsx(Y,{className:"text-red-500"})})}),a.jsxs(x,{children:[a.jsxs(u,{children:[a.jsx(j,{children:"Apakah Anda yakin ingin menolak pengaduan ini?"}),a.jsx(f,{children:"Aksi ini tidak dapat dibatalkan."})]}),a.jsxs(k,{children:[a.jsx(N,{children:"Batal"}),a.jsx(A,{className:"bg-red-500",onClick:()=>C(e.original,"Ditolak Kades"),children:"Ya, saya yakin!"})]})]})]})]})})]})})}}];export{Ta as columns};
