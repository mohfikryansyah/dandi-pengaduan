import{m as x,j as a,L as b,V as i}from"./app-DKM7dt8d.js";import{B as n}from"./button-Ch5T_YaV.js";import{C as j,b as f,c as g,d as C,a as k}from"./card-BcxlMsuI.js";import{C as v,a as N,b as S,c as y,d as T}from"./command-CCuSnC8U.js";import{I as _}from"./input-Bzxg_iW3.js";import{L as p}from"./label-C6TNN0Fp.js";import{P as E,a as P,b as D}from"./popover-Bp6cqbEo.js";import{b as L}from"./helpers-CmNvA0sT.js";import{u as w}from"./use-boolean-DwN7zOQ_.js";import{A as B}from"./app-layout-D1n9UuIy.js";import{C as I}from"./chevron-down-DDfTyICo.js";import"./index-Vrro_ThI.js";import"./utils-D17iiBiz.js";import"./index-CBy6iI--.js";import"./index-blviR4P5.js";import"./Combination-ao4a7iry.js";import"./tslib.es6-BUas5LQb.js";import"./index-k0HzQP1F.js";import"./index-xdR8EGyJ.js";import"./index-ZFSzPzMq.js";import"./index-wGUD2AQ0.js";import"./floating-ui.react-dom-BMUpqp2O.js";import"./createLucideIcon-BecT5Nup.js";import"./use-mobile-DQiCraAI.js";import"./x-DA2yMRmC.js";import"./index-CRVKt2cw.js";import"./check-C2k6Q05I.js";import"./avatar-DRnMHcoe.js";import"./app-logo-icon-QQfq_JEU.js";import"./chevron-right-B0WcJHW1.js";const J=[{title:"Dashboard",href:"/dashboard"},{title:"Template Berkas",href:" /template-berkas"},{title:"Edit",href:"#"}];function ua({templateBerkas:s}){const{data:l,setData:m,put:d,processing:u,errors:r,isDirty:c}=x({nama_berkas:s.nama_berkas,path:null}),h=e=>{e.preventDefault(),d(route("template-berkas.update",s),{onSuccess:()=>{i.success("Template berkas berhasil diperbarui!")},onError:()=>{i.error("Gagal memperbarui template berkas.")}})},t=w();return a.jsxs(B,{breadcrumbs:J,children:[a.jsx(b,{title:"Edit Template Berkas"}),a.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:a.jsxs(j,{className:"max-w-3xl",children:[a.jsxs(f,{children:[a.jsx(g,{children:"Edit Template Surat"}),a.jsx(C,{children:"Kamu bisa mengganti nama atau mengunggah file baru. File sebelumnya akan diganti jika kamu upload file baru."})]}),a.jsx(k,{children:a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(p,{children:"Judul Surat"}),a.jsxs(E,{open:t.state,onOpenChange:t.setState,children:[a.jsx(P,{asChild:!0,children:a.jsxs(n,{variant:"outline",className:"flex justify-between",children:[l.nama_berkas?l.nama_berkas:"Pilih Judul Surat",a.jsx(I,{className:"size-3"})]})}),a.jsx(D,{className:"popover-content-width-same-as-its-trigger p-0",align:"start",children:a.jsxs(v,{children:[a.jsx(N,{placeholder:"Cari judul surat"}),a.jsx(S,{children:"Tidak ada hasil ditemukan."}),a.jsx(y,{children:L.filter(e=>s.nama_berkas!==e.label).map(e=>a.jsx(T,{onSelect:()=>{m("nama_berkas",e.label),i.success(`"${e.label}" dipilih.`),t.setFalse()},children:e.label},e.value))})]})})]}),r.nama_berkas&&a.jsx("p",{className:"text-sm text-red-500",children:r.nama_berkas})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(p,{children:"Upload File Baru (tidak wajib)"}),a.jsx(_,{type:"file",onChange:e=>{var o;return m("path",((o=e.target.files)==null?void 0:o[0])??null)}}),r.path&&a.jsx("p",{className:"text-sm text-red-500",children:r.path})]}),a.jsx(n,{type:"submit",disabled:u||!c,children:"Simpan Perubahan"})]})})]})})]})}export{ua as default};
