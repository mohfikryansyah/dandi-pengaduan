import{m as x,j as a,L as b,V as i}from"./app-1vksEiOn.js";import{B as n}from"./button-Dojzd-UW.js";import{C as j,b as f,c as g,d as C,a as k}from"./card-B3yooZr5.js";import{C as v,a as N,b as S,c as y,d as T}from"./command-Sy3WXH37.js";import{I as _}from"./input-D47F2WeB.js";import{L as p}from"./label-qmwv9tWL.js";import{P as E,a as P,b as D}from"./popover-CiSlK3VA.js";import{b as L}from"./helpers-xQVhyuEX.js";import{u as w}from"./use-boolean-bdNGzfcW.js";import{A as B}from"./app-layout-DN1uTSLH.js";import{C as I}from"./chevron-down-c3TOja2F.js";import"./index-BVzTNj1Y.js";import"./utils-D17iiBiz.js";import"./index-BbqicphP.js";import"./index-pTesKFhR.js";import"./Combination-D6pHeosP.js";import"./tslib.es6-BUas5LQb.js";import"./index-DdvvDZMX.js";import"./index-DypZM36f.js";import"./index-CHJCEIxg.js";import"./index-CQvspDma.js";import"./floating-ui.react-dom-CukQGH1T.js";import"./createLucideIcon-Dg0TqZCs.js";import"./use-mobile-DGINfj6O.js";import"./x-BBc_8yfQ.js";import"./index-Etx5e815.js";import"./check-m_uJjlc8.js";import"./avatar-CCp3Mqh0.js";import"./app-logo-icon-4UjUEgNd.js";import"./chevron-right-B5P0Pynj.js";const J=[{title:"Dashboard",href:"/dashboard"},{title:"Template Berkas",href:" /template-berkas"},{title:"Edit",href:"#"}];function ua({templateBerkas:s}){const{data:l,setData:m,put:d,processing:u,errors:r,isDirty:c}=x({nama_berkas:s.nama_berkas,path:null}),h=e=>{e.preventDefault(),d(route("template-berkas.update",s),{onSuccess:()=>{i.success("Template berkas berhasil diperbarui!")},onError:()=>{i.error("Gagal memperbarui template berkas.")}})},t=w();return a.jsxs(B,{breadcrumbs:J,children:[a.jsx(b,{title:"Edit Template Berkas"}),a.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:a.jsxs(j,{className:"max-w-3xl",children:[a.jsxs(f,{children:[a.jsx(g,{children:"Edit Template Surat"}),a.jsx(C,{children:"Kamu bisa mengganti nama atau mengunggah file baru. File sebelumnya akan diganti jika kamu upload file baru."})]}),a.jsx(k,{children:a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(p,{children:"Judul Surat"}),a.jsxs(E,{open:t.state,onOpenChange:t.setState,children:[a.jsx(P,{asChild:!0,children:a.jsxs(n,{variant:"outline",className:"flex justify-between",children:[l.nama_berkas?l.nama_berkas:"Pilih Judul Surat",a.jsx(I,{className:"size-3"})]})}),a.jsx(D,{className:"popover-content-width-same-as-its-trigger p-0",align:"start",children:a.jsxs(v,{children:[a.jsx(N,{placeholder:"Cari judul surat"}),a.jsx(S,{children:"Tidak ada hasil ditemukan."}),a.jsx(y,{children:L.filter(e=>s.nama_berkas!==e.label).map(e=>a.jsx(T,{onSelect:()=>{m("nama_berkas",e.label),i.success(`"${e.label}" dipilih.`),t.setFalse()},children:e.label},e.value))})]})})]}),r.nama_berkas&&a.jsx("p",{className:"text-sm text-red-500",children:r.nama_berkas})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(p,{children:"Upload File Baru (tidak wajib)"}),a.jsx(_,{type:"file",onChange:e=>{var o;return m("path",((o=e.target.files)==null?void 0:o[0])??null)}}),r.path&&a.jsx("p",{className:"text-sm text-red-500",children:r.path})]}),a.jsx(n,{type:"submit",disabled:u||!c,children:"Simpan Perubahan"})]})})]})})]})}export{ua as default};
